<ion-content class="w-screen h-screen relative">
  <div
    class="absolute top-0 left-0 right-0 bottom-0 w-full h-full flex flex-col bg-[var(--mat-sys-surface)]"
  >
    <div
      class="w-full h-24 flex flex-row items-center justify-between px-4 bg-[var(--mat-sys-primary)]"
    >
      <h6 class="!text-[var(--mat-sys-on-primary)] mat-title-large">
        {{ "PROFILE_PAGE.LABELS.CHANGE_PASSWORD_TEXT" | translate }}
      </h6>
      <img
        class="w-28"
        src="assets/images/B-Smart_Academia_transparent.png"
        alt=""
        srcset=""
      />
    </div>
    <div class="grow p-4 flex h-full flex-col">
      <form
        id="change-password-form"
        class="w-full h-fit bg-[var(--mat-sys-surface)] flex flex-col space-y-2 p-2 rounded shadow"
        [formGroup]="changePasswordForm"
        (ngSubmit)="submitChangePasswordForm($event)"
      >
        <div class="flex flex-col">
          <ion-text
            class="mat-body-small placeholer-text !font-semibold !text-[var(--mat-sys-on-surface)]"
          >
            {{
              "CHANGE_PASSWORD_FORM.FORM.LABELS.CURRENT_PASSWORD" | translate
            }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="currentPassword"
              [placeholder]="
                'CHANGE_PASSWORD_FORM.FORM.PLACEHOLDER.CURRENT_PASSWORD'
                  | translate
              "
            />
            <mat-error>
              {{ "DEFAULTS.ERRORS.CANNOT_BE_BLANK" | translate }}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-col">
          <ion-text
            class="mat-body-small !font-semibold placeholer-text !text-[var(--mat-sys-on-surface)]"
          >
            {{ "CHANGE_PASSWORD_FORM.FORM.LABELS.NEW_PASSWORD" | translate }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="newPassword"
              [placeholder]="
                'CHANGE_PASSWORD_FORM.FORM.PLACEHOLDER.NEW_PASSWORD' | translate
              "
            />
            <mat-error>
              {{ "DEFAULTS.ERRORS.CANNOT_BE_BLANK" | translate }}
            </mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-col">
          <ion-text
            class="mat-body-small !font-semibold placeholer-text !text-[var(--mat-sys-on-surface)]"
          >
            {{
              "CHANGE_PASSWORD_FORM.FORM.LABELS.CONFIRM_PASSWORD" | translate
            }}
          </ion-text>
          <mat-form-field class="w-full no-padding">
            <input
              type="password"
              matInput
              [formControl]="confirmPassword"
              [placeholder]="
                'CHANGE_PASSWORD_FORM.FORM.LABELS.CONFIRM_PASSWORD' | translate
              "
            />
            <mat-error>
              @if (confirmPassword.hasError('matching')) {
              {{
                "CHANGE_PASSWORD_FORM.ERRORS.PASSWORD_DO_NOT_MATCH" | translate
              }}
              } @else if (confirmPassword.hasError('required')) {
              {{ "DEFAULTS.ERRORS.CANNOT_BE_BLANK" | translate }}
              }
            </mat-error>
          </mat-form-field>
        </div>
        <button
          form="change-password-form"
          type="ngSubmit"
          class="w-full text-white relative my-6 !bg-[var(--mat-sys-primary)]"
          mat-flat-button
        >
          {{ "PROFILE_PAGE.LABELS.CHANGE_PASSWORD_TEXT" | translate }}
        </button>
      </form>
    </div>
  </div>
</ion-content>
